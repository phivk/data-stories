{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.reflect.construct.js","webpack:///./node_modules/timelens/lib/timelens.js","webpack:///./node_modules/core-js/modules/es6.array.last-index-of.js","webpack:///./src/components/timelens.js","webpack:///./src/templates/blog-post.js"],"names":["$export","create","aFunction","anObject","isObject","fails","bind","rConstruct","Reflect","construct","NEW_TARGET_BUG","F","ARGS_BUG","S","Target","args","newTarget","arguments","length","$args","push","apply","proto","prototype","instance","Object","result","Function","call","_typeof","obj","Symbol","iterator","constructor","_defineProperties","target","props","i","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","Constructor","protoProps","staticProps","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_isNativeReflectConstruct","sham","Proxy","Date","toString","e","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","_createForOfIteratorHelper","Array","isArray","minLen","_arrayLikeToArray","n","slice","name","from","test","_unsupportedIterableToArray","s","done","value","_e","f","TypeError","it","err","normalCompletion","didErr","step","next","_e2","arr","len","arr2","timelens","container","options","vttUrl","thumbnails","request","XMLHttpRequest","open","send","onreadystatechange","readyState","status","getResponseHeader","indexOf","vtt","_step2","to","_iterator2","split","line","matches","match","fromTimestamp","_matches","file","x","y","w","h","parseVTT","duration","document","querySelector","className","thumbnail","createElement","time","timeline","src","setAttribute","position","marker","appendChild","markerInner","seek","onclick","event","progress","progressAtMouse","onmousemove","_step","seconds","offsetWidth","thumbnailDir","substring","lastIndexOf","activeThumbnail","_iterator","t","style","width","height","marginLeft","Math","min","max","innerHTML","secondsTotal","hours","floor","minutes","timestamp","pad","toTimestamp","setInterval","timelens2","responseText","parseInt","offsetX","pageX","offsetLeft","num","size","substr","module","exports","createClapprPlugin","Clappr","_Clappr$UICorePlugin","subClass","superClass","_inherits","Plugin","UICorePlugin","Derived","_super","Super","NewTarget","this","core","_classCallCheck","get","listenTo","mediaControl","Events","MEDIACONTROL_RENDERED","_init","bar","el","containers","getCurrentTime","extendMediaElement","MediaElementPlayer","assign","buildtimelens","player","controls","layers","media","vid","dataset","thumbnailsTrack","classPrefix","currentTime","toIObject","toInteger","toLength","$native","NEGATIVE_ZERO","P","searchElement","O","index","Timelens","componentDidMount","render","id","Component","BlogPostTemplate","data","pageContext","location","post","markdownRemark","siteTitle","site","siteMetadata","title","previous","frontmatter","description","excerpt","marginBottom","display","date","dangerouslySetInnerHTML","__html","html","flexWrap","justifyContent","listStyle","padding","fields","slug","rel","pageQuery"],"mappings":"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","file":"component---src-templates-blog-post-js-baf23f1368ab629473c3.js","sourcesContent":["// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.array.last-index-of\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.reflect.construct\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n/* Common functionality */\n\n\nfunction timelens(container, options) {\n  // Load VTT file asynchronously, then continue with the initialization.\n  var vttUrl;\n\n  if (options.thumbnails) {\n    vttUrl = options.thumbnails;\n  }\n\n  var request = new XMLHttpRequest();\n  request.open(\"GET\", vttUrl, true);\n  request.send(null);\n\n  request.onreadystatechange = function () {\n    if (request.readyState === 4 && request.status === 200) {\n      var type = request.getResponseHeader(\"Content-Type\");\n\n      if (type.indexOf(\"text\") !== 1) {\n        timelens2(container, request.responseText, options);\n      }\n    }\n  };\n} // Actually initialize Timelens.\n\n\nfunction timelens2(container, vtt, options) {\n  var thumbnails = parseVTT(vtt);\n  var duration = thumbnails[thumbnails.length - 1].to; // Use querySelector if a selector string is specified.\n\n  if (typeof container == \"string\") container = document.querySelector(container); // This will be our main .timelens div, which will contain all new elements.\n\n  if (container.className != \"\") {\n    container.className += \" \";\n  }\n\n  container.className += \"timelens\"; // Create div which contains the preview thumbnails.\n\n  var thumbnail = document.createElement(\"div\");\n  thumbnail.className = \"timelens-thumbnail\"; // Create div which contains the thumbnail time.\n\n  var time = document.createElement(\"div\");\n  time.className = \"timelens-time\"; // Create .timeline img, which displays the visual timeline.\n\n  var timeline = document.createElement(\"img\");\n  timeline.src = options.timeline; // Prevent the timeline image to be dragged\n\n  timeline.setAttribute(\"draggable\", \"false\"); // Create .marker div, which is used to display the current position.\n\n  if (options.position) {\n    var marker = document.createElement(\"div\");\n    marker.className = \"timelens-marker-border\";\n    container.appendChild(marker);\n    var markerInner = document.createElement(\"div\");\n    markerInner.className = \"timelens-marker\";\n    marker.appendChild(markerInner);\n  } // Assemble everything together.\n\n\n  container.appendChild(timeline);\n  container.appendChild(thumbnail);\n  thumbnail.appendChild(time); // When clicking the timeline, seek to the respective position.\n\n  if (options.seek) {\n    timeline.onclick = function (event) {\n      var progress = progressAtMouse(event, timeline);\n      options.seek(progress * duration);\n    };\n  }\n\n  timeline.onmousemove = function (event) {\n    // Calculate click position in seconds.\n    var progress = progressAtMouse(event, timeline);\n    var seconds = progress * duration;\n    var x = progress * timeline.offsetWidth;\n    var thumbnailDir = options.thumbnails.substring(0, options.thumbnails.lastIndexOf(\"/\") + 1); // Find the first entry in `thumbnails` which contains the current position.\n\n    var activeThumbnail = null;\n\n    var _iterator = _createForOfIteratorHelper(thumbnails),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var t = _step.value;\n\n        if (seconds >= t.from && seconds <= t.to) {\n          activeThumbnail = t;\n          break;\n        }\n      } // Set respective background image.\n\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    thumbnail.style[\"background-image\"] = \"url(\" + thumbnailDir + activeThumbnail.file + \")\"; // Move background to the correct location.\n\n    thumbnail.style[\"background-position\"] = -activeThumbnail.x + \"px \" + -activeThumbnail.y + \"px\"; // Set thumbnail div to correct size.\n\n    thumbnail.style.width = activeThumbnail.w + \"px\";\n    thumbnail.style.height = activeThumbnail.h + \"px\"; // Move thumbnail div to the correct position.\n\n    thumbnail.style.marginLeft = Math.min(Math.max(0, x - thumbnail.offsetWidth / 2), timeline.offsetWidth - thumbnail.offsetWidth) + \"px\";\n    time.innerHTML = toTimestamp(seconds);\n  };\n\n  if (options.position) {\n    setInterval(function () {\n      marker.style.marginLeft = options.position() / duration * timeline.offsetWidth + \"px\";\n    }, 1);\n  }\n} // Convert a WebVTT timestamp (which has the format [HH:]MM:SS.mmm) to seconds.\n\n\nfunction fromTimestamp(timestamp) {\n  var matches = timestamp.match(/(.*):(.*)\\.(.*)/);\n  var minutes = parseInt(matches[1]);\n  var seconds = parseInt(matches[2]);\n  var mseconds = parseInt(matches[3]);\n  var secondsTotal = mseconds / 1000 + seconds + 60 * minutes;\n  return secondsTotal;\n} // Convert a position in seconds to a [H:]MM:SS timestamp.\n\n\nfunction toTimestamp(secondsTotal) {\n  var hours = Math.floor(secondsTotal / 60 / 60);\n  var minutes = Math.floor(secondsTotal / 60 - hours * 60);\n  var seconds = Math.floor(secondsTotal - 60 * minutes - hours * 60 * 60);\n  var timestamp = minutes + \":\" + pad(seconds, 2);\n\n  if (hours > 0) {\n    return hours + \":\" + pad(timestamp, 5);\n  } else {\n    return timestamp;\n  }\n} // How far is the mouse into the timeline, in a range from 0 to 1?\n\n\nfunction progressAtMouse(event, timeline) {\n  var x = event.offsetX ? event.offsetX : event.pageX - timeline.offsetLeft;\n  return x / timeline.offsetWidth;\n} // Parse a VTT file pointing to JPEG files using media fragment notation.\n\n\nfunction parseVTT(vtt) {\n  var from = 0;\n  var to = 0;\n  var thumbnails = [];\n\n  var _iterator2 = _createForOfIteratorHelper(vtt.split(\"\\n\")),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var line = _step2.value;\n\n      if (/-->/.test(line)) {\n        // Parse a \"cue timings\" part.\n        var matches = line.match(/(.*) --> (.*)/);\n        from = fromTimestamp(matches[1]);\n        to = fromTimestamp(matches[2]);\n      } else if (/jpg/.test(line)) {\n        // Parse a \"cue payload\" part.\n        var _matches = line.match(/(.*)\\?xywh=(.*),(.*),(.*),(.*)/);\n\n        thumbnails.push({\n          from: from,\n          to: to,\n          file: _matches[1],\n          x: _matches[2],\n          y: _matches[3],\n          w: _matches[4],\n          h: _matches[5]\n        });\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return thumbnails;\n}\n\nfunction pad(num, size) {\n  return (\"000000000\" + num).substr(-size);\n}\n\nfunction extendMediaElement() {\n  if (typeof MediaElementPlayer === \"undefined\") return;\n  Object.assign(MediaElementPlayer.prototype, {\n    buildtimelens: function buildtimelens(player, controls, layers, media) {\n      var t = this; // Get the timeline from the video's \"timeline\" attribute.\n\n      var vid = media.querySelector(\"video\");\n      var timeline = vid.dataset.timeline; // Get the thumbnails VTT from a \"thumbnails\" track.\n\n      var thumbnailsTrack = vid.querySelector('track[label=\"thumbnails\"]'); // When there's insufficient data, don't initialize Timelens.\n\n      if (!timeline || !thumbnailsTrack) {\n        return;\n      }\n\n      var thumbnails = thumbnailsTrack.src;\n      var slider = controls.querySelector(\".\" + t.options.classPrefix + \"time-slider\"); // Initialize the Timelens interface.\n\n      timelens(slider, {\n        timeline: timeline,\n        thumbnails: thumbnails,\n        position: function position() {\n          return player.currentTime;\n        }\n      });\n    }\n  });\n}\n\nfunction createClapprPlugin() {\n  if (typeof Clappr === \"undefined\") return;\n\n  var Plugin = /*#__PURE__*/function (_Clappr$UICorePlugin) {\n    _inherits(Plugin, _Clappr$UICorePlugin);\n\n    var _super = _createSuper(Plugin);\n\n    _createClass(Plugin, [{\n      key: \"name\",\n      get: function get() {\n        return \"timelens\";\n      }\n    }]);\n\n    function Plugin(core) {\n      _classCallCheck(this, Plugin);\n\n      return _super.call(this, core);\n    }\n\n    _createClass(Plugin, [{\n      key: \"bindEvents\",\n      value: function bindEvents() {\n        this.listenTo(this.core.mediaControl, Clappr.Events.MEDIACONTROL_RENDERED, this._init);\n      }\n    }, {\n      key: \"_init\",\n      value: function _init() {\n        var bar = this.core.mediaControl.el.querySelector(\".bar-background\");\n        var t = this; // Initialize the Timelens interface.\n\n        timelens(bar, {\n          timeline: this.core.options.timelens.timeline,\n          thumbnails: this.core.options.timelens.thumbnails,\n          position: function position() {\n            return t.core.containers[0].getCurrentTime();\n          }\n        });\n      }\n    }]);\n\n    return Plugin;\n  }(Clappr.UICorePlugin);\n\n  return Plugin;\n}\n\nmodule.exports = {\n  timelens: timelens,\n  createClapprPlugin: createClapprPlugin,\n  extendMediaElement: extendMediaElement\n};","'use strict';\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar $native = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n  lastIndexOf: function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n    // convert -0 to +0\n    if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0;\n    var O = toIObject(this);\n    var length = toLength(O.length);\n    var index = length - 1;\n    if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1]));\n    if (index < 0) index = length + index;\n    for (;index >= 0; index--) if (index in O) if (O[index] === searchElement) return index || 0;\n    return -1;\n  }\n});\n","import React, { Component } from \"react\"\nimport { timelens } from \"timelens\"\nimport '../../node_modules/timelens/timelens.css';\n\nclass Timelens extends Component {\n  componentDidMount() {\n    timelens(\"#timelens\", {\n      timeline: this.props.timeline, // \"/timelens/PGMTV2000612871.mp4.timeline.jpg\",\n      thumbnails: this.props.thumbnails //\"/timelens/thumbnails.vtt\"\n    });\n  }\n  render() {\n    return (\n      <div id=\"timelens\"></div>\n    )\n  }\n}\nexport default Timelens","import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport Timelens from '../components/timelens'\n\nconst BlogPostTemplate = ({ data, pageContext, location }) => {\n  const post = data.markdownRemark\n  const siteTitle = data.site.siteMetadata.title\n  const { previous, next } = pageContext\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <SEO\n        title={post.frontmatter.title}\n        description={post.frontmatter.description || post.excerpt}\n      />\n      <article>\n        <header>\n          <h1\n            style={{\n              marginBottom: 0,\n            }}\n          >\n            {post.frontmatter.title}\n          </h1>\n          <p\n            style={{\n              display: `block`,\n            }}\n          >\n            {post.frontmatter.date}\n          </p>\n        </header>\n        <Timelens \n          timeline = \"/timelens/PGMTV2000612871.mp4.timeline.jpg\"\n          thumbnails = \"/timelens/thumbnails.vtt\"\n        />\n        <section dangerouslySetInnerHTML={{ __html: post.html }} />\n        <hr\n          style={{\n          }}\n        />\n        <footer>\n        </footer>\n      </article>\n\n      <nav>\n        <ul\n          style={{\n            display: `flex`,\n            flexWrap: `wrap`,\n            justifyContent: `space-between`,\n            listStyle: `none`,\n            padding: 0,\n          }}\n        >\n          <li>\n            {previous && (\n              <Link to={previous.fields.slug} rel=\"prev\">\n                ← {previous.frontmatter.title}\n              </Link>\n            )}\n          </li>\n          <li>\n            {next && (\n              <Link to={next.fields.slug} rel=\"next\">\n                {next.frontmatter.title} →\n              </Link>\n            )}\n          </li>\n        </ul>\n      </nav>\n    </Layout>\n  )\n}\n\nexport default BlogPostTemplate\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n        description\n      }\n    }\n  }\n`\n"],"sourceRoot":""}